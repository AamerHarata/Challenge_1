@using TestGoogle.Services
@model IEnumerable<Defect>

   
@if (!Model.Any())
{
    <h4 class="text-center">No holes or bumps yet!</h4>
}
else
{
    var i = Model.Count();
    foreach (var defect in Model)
    {
        
        
        
        <div class="defect-div">
            
            <table class="table defect-table">
                
                <tr>
                    <th>#</th>
                    <th>Type</th>
                    <th>Accelerometer</th>
                    <th>Location</th>
                    <th>Time</th>
                    <th>Map</th>
                </tr>
                
                
                <tr>
                    <td><div style="margin: auto">@i</div></td>
                    <td>@defect.DefType</td>
                    <td>X: @Math.Round(double.Parse(defect.xAco), 3) - Y: @Math.Round(double.Parse(defect.yAco), 3) - Z: @Math.Round(double.Parse(defect.zAco), 3)</td>
                    <td>Latitude: @defect.xGeo, Longitude: @defect.yGeo</td>
                    <td>@defect.Time.AddHours(2).ToString(@"hh\:mm\:ss")</td>
                    
                    @if (defect.DefType == DefType.Bump)
                    {
                        <td><img src="https://maps.googleapis.com/maps/api/staticmap?
         center=@defect.xGeo,@defect.yGeo&zoom=18&size=200x200&scale=1&maptype=roadmap\&markers=color:red%7Clabel:B%7C @defect.xGeo,@defect.yGeo&key=AIzaSyC0mLIcD6TdgT0xuRJ3BxU9eD86nWf7Da4"/></td>
                    }
                    else
                    {
                        <td><img src="https://maps.googleapis.com/maps/api/staticmap?
         center=@defect.xGeo,@defect.yGeo&zoom=18&size=200x200&scale=1&maptype=roadmap\&markers=color:green%7Clabel:H%7C @defect.xGeo,@defect.yGeo&key=AIzaSyC0mLIcD6TdgT0xuRJ3BxU9eD86nWf7Da4"/></td>
                    }
         
                    
                </tr>
            </table>
            <span class="small defect-date"></span>
            
        </div>
        
        
        
        
        
        
        
        
        
        
        i--;
    }
}


        
